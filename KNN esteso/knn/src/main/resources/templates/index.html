<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KNN esteso</title>
</head>

<body>
    <div id="test">
        Ciao
    </div>
    <button onclick="clickButton()">
        Cliccami
    </button>
    <div style="width: 70%;">
        <canvas id="bubble-chart"></canvas>
    </div>
</body>

<script src="jquery.min.js"></script>
<script src="chart.min.js"></script>
<script src="grafico.js"></script>

<script th:inline="javascript">
    var id = [(${id})];
</script>

<script>
    function clickButton(txt) {
        $("#test").html("Gay chi legge");

        $.ajax({
            type: "POST",
            contentType: "application/json; charset=utf-8",
            url: "http://localhost:8080/getModello",
            data: JSON.stringify({
                id: id,
                formato: 1,
                nome: txt
            }),
            dataType: 'json',
            cache: false,
            timeout: 600000,
            success: function(data) {
                popola([], data[0]);
                console.log(data);
            },
            error: function(e) {

                console.log(e);
            }
        });
    }

    function clickButton2(k) {

        $.ajax({
            type: "POST",
            contentType: "application/json; charset=utf-8",
            url: "http://localhost:8080/getPredizione",
            data: JSON.stringify({
                id: id,
                example: JSON.stringify({
                    example: ["A", 2.00]
                }),
                k: k
            }),
            dataType: 'json',
            cache: false,
            timeout: 600000,
            success: function(data) {
                popola(data[1], data[2], data[0]);
                console.log(data);
            },
            error: function(e) {

                console.log(e);
            }
        });
    }
</script>

</html>